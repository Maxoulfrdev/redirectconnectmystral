<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta http-equiv="Cache-Control" content="no-store">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Connexion au serveur GMod</title>
<link rel="icon" type="image/png" href="https://i.imgur.com/q5WZUbJ.png">
<link rel="shortcut icon" href="https://i.imgur.com/q5WZUbJ.png">
<link rel="apple-touch-icon" href="https://i.imgur.com/q5WZUbJ.png">
<style>
  :root {
    --bg-1: #05060f;
    --bg-2: #121433;
    --bg-3: #2a1f53;
    --surface: rgba(255, 255, 255, 0.08);
    --surface-border: rgba(255, 255, 255, 0.18);
    --txt: #edf2ff;
    --txt-muted: #b8c3e2;
    --accent: #62f5ff;
    --accent-2: #8f7dff;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    min-height: 100vh;
    padding: 24px;
    display: grid;
    place-content: center;
    justify-items: center;
    gap: 20px;
    text-align: center;
    font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
    color: var(--txt);
    background:
      radial-gradient(circle at 15% 20%, rgba(98, 245, 255, 0.28), transparent 35%),
      radial-gradient(circle at 80% 25%, rgba(143, 125, 255, 0.24), transparent 36%),
      linear-gradient(135deg, var(--bg-1), var(--bg-2) 52%, var(--bg-3));
    overflow: hidden;
    isolation: isolate;
  }

  body::before,
  body::after {
    content: "";
    position: fixed;
    width: clamp(220px, 28vw, 420px);
    aspect-ratio: 1;
    border-radius: 50%;
    filter: blur(55px);
    opacity: 0.35;
    z-index: -1;
    animation: float 10s ease-in-out infinite;
  }

  body::before {
    background: #5a6bff;
    top: -10%;
    left: -6%;
  }

  body::after {
    background: #3fffe9;
    bottom: -12%;
    right: -5%;
    animation-delay: -4s;
  }

  h1 {
    margin: 0;
    padding: clamp(20px, 4vw, 34px) clamp(26px, 5vw, 56px);
    border-radius: 20px;
    border: 1px solid var(--surface-border);
    background: linear-gradient(145deg, var(--surface), rgba(255, 255, 255, 0.03));
    backdrop-filter: blur(10px);
    font-size: clamp(1.8rem, 4vw, 3.2rem);
    line-height: 1.15;
    letter-spacing: 0.04em;
    text-shadow: 0 6px 30px rgba(98, 245, 255, 0.45);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.2),
      0 18px 50px rgba(2, 7, 21, 0.5);
  }

  .server-logo {
    display: block;
    margin-inline: auto;
    width: clamp(90px, 14vw, 150px);
    aspect-ratio: 1;
    object-fit: cover;
    border-radius: 22px;
    border: 1px solid rgba(255, 255, 255, 0.28);
    background: rgba(255, 255, 255, 0.06);
    box-shadow:
      0 14px 35px rgba(0, 0, 0, 0.45),
      0 0 26px rgba(98, 245, 255, 0.35),
      inset 0 1px 0 rgba(255, 255, 255, 0.35);
    padding: 6px;
  }

  .dots::after {
    content: "";
    display: inline-block;
    width: 1.1em;
    text-align: left;
    animation: dots 1.2s steps(3, end) infinite;
  }

  .loader {
    width: min(440px, 78vw);
    height: 12px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.22);
    background: rgba(5, 10, 24, 0.45);
    overflow: hidden;
    box-shadow:
      inset 0 2px 8px rgba(0, 0, 0, 0.45),
      0 10px 30px rgba(98, 245, 255, 0.2);
  }

  .loader-inner {
    height: 100%;
    width: 36%;
    border-radius: inherit;
    background: linear-gradient(90deg, var(--accent), #8ab8ff 45%, var(--accent-2));
    box-shadow: 0 0 22px rgba(98, 245, 255, 0.8);
    transform: translateX(-100%);
    animation: load 2s cubic-bezier(0.55, 0.08, 0.68, 0.53) infinite;
  }

  .btn {
    margin-top: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-height: 48px;
    padding: 12px 28px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.25);
    text-decoration: none;
    font-weight: 700;
    letter-spacing: 0.02em;
    color: #041321;
    background: linear-gradient(100deg, var(--accent), #9be7ff 52%, #d0c6ff);
    box-shadow:
      0 8px 24px rgba(83, 214, 255, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.65);
    transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
  }

  .btn:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow:
      0 12px 34px rgba(98, 245, 255, 0.58),
      0 0 28px rgba(143, 125, 255, 0.45);
    filter: saturate(1.08);
  }

  .btn:active {
    transform: translateY(0);
  }

  .btn:focus-visible {
    outline: 2px solid #ffffff;
    outline-offset: 3px;
  }

  @keyframes dots {
    0%, 20% { content: ""; }
    40% { content: "."; }
    60% { content: ".."; }
    80%, 100% { content: "..."; }
  }

  @keyframes load {
    0% { transform: translateX(-120%); }
    100% { transform: translateX(320%); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) translateX(0) scale(1); }
    50% { transform: translateY(-16px) translateX(12px) scale(1.06); }
  }

  @media (max-width: 560px) {
    body {
      padding: 18px;
    }

    h1 {
      letter-spacing: 0.02em;
    }
  }
</style>
</head>
<body>

<img
  id="server-logo"
  class="server-logo"
  src="https://i.imgur.com/q5WZUbJ.png"
  alt="Logo du serveur"
  loading="eager"
  decoding="async"
>
<h1>Connexion au serveur<span class="dots"></span></h1>
<div class="loader"><div class="loader-inner"></div></div>
<a id="join" class="btn" href="steam://connect/87.98.175.245:27023">Rejoindre le serveur</a>

<script>
function connect() {
  const url = "steam://connect/87.98.175.245:27023";

  // Méthode principale
  window.location.href = url;

  // Méthode de secours
  setTimeout(() => {
    document.getElementById("join").click();
  }, 300);
}

const serverLogo = document.getElementById("server-logo");
if (serverLogo) {
  serverLogo.addEventListener("error", () => {
    if (!serverLogo.dataset.fallback) {
      serverLogo.dataset.fallback = "1";
      serverLogo.src = "https://i.imgur.com/q5WZUbJ.jpg";
    }
  });
}

// Ajoute un petit paramètre aléatoire pour éviter le blocage navigateur
const params = new URLSearchParams(window.location.search);
if (!params.has('t')) {
  const t = Math.floor(Math.random() * 100000);
  window.location.search = '?t=' + t;
} else {
  // Essaye la connexion
  connect();
}
</script>

</body>
</html>
